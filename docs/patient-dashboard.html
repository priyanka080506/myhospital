<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Patient Dashboard - MediCare</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body class="dashboard">
    <header class="dashboard-header">
        <div class="container">
            <nav class="dashboard-nav">
                <h1>Patient Dashboard</h1>
                <div class="nav-links">
                    <a href="#" onclick="showSection('overview')">Overview</a>
                    <a href="#" onclick="showSection('appointments')">Appointments</a>
                    <a href="#" onclick="showSection('reports')">Reports</a>
                    <a href="#" onclick="showSection('search')">Find Doctors</a>
                    <a href="#" onclick="showSection('profile')">Profile</a>
                    <a href="index.html" onclick="logout()">Logout</a>
                </div>
            </nav>
        </div>
    </header>

    <main class="dashboard-content">
        <div class="container">
            <!-- Overview Section -->
            <div id="overview-section" class="section active">
                <div class="dashboard-grid">
                    <div class="dashboard-card">
                        <h3>Welcome Back!</h3>
                        <p id="welcome-message">Good to see you again.</p>
                        <button class="btn btn-primary" onclick="showSection('appointments')">Book New Appointment</button>
                    </div>
                    <div class="dashboard-card">
                        <h3>Quick Stats</h3>
                        <p><strong>Total Appointments:</strong> <span id="total-appointments">0</span></p>
                        <p><strong>Upcoming:</strong> <span id="upcoming-appointments">0</span></p>
                        <p><strong>Reports:</strong> <span id="total-reports">0</span></p>
                    </div>
                    <div class="dashboard-card">
                        <h3>Recent Activity</h3>
                        <div id="recent-activity">
                            <p>No recent activity</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Appointments Section -->
            <div id="appointments-section" class="section">
                <div class="dashboard-card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
                        <h3>My Appointments</h3>
                        <button class="btn btn-primary" onclick="openBookingModal()">Book New Appointment</button>
                    </div>
                    
                    <div id="appointments-list">
                        <table>
                            <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>Time</th>
                                    <th>Doctor</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="appointments-table-body">
                                <!-- Appointments will be loaded here -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Reports Section -->
            <div id="reports-section" class="section">
                <div class="dashboard-card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
                        <h3>Medical Reports</h3>
                        <button class="btn btn-primary" onclick="openAddReportModal()">Add Report</button>
                    </div>
                    
                    <div id="reports-list">
                        <table>
                            <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>Report Type</th>
                                    <th>Doctor</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="reports-table-body">
                                <!-- Reports will be loaded here -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Doctor Search Section -->
            <div id="search-section" class="section">
                <div class="dashboard-card">
                    <h3>Find Doctors</h3>
                    
                    <div class="search-container">
                        <div class="search-bar">
                            <input type="text" id="doctor-search" placeholder="Search by doctor name or specialization...">
                            <button class="btn btn-primary" onclick="searchDoctors()">Search</button>
                        </div>
                        
                        <div class="filters">
                            <select id="specialization-filter">
                                <option value="">All Specializations</option>
                                <option value="cardiology">Cardiology</option>
                                <option value="orthopedics">Orthopedics</option>
                                <option value="pediatrics">Pediatrics</option>
                                <option value="internal-medicine">Internal Medicine</option>
                                <option value="dermatology">Dermatology</option>
                                <option value="neurology">Neurology</option>
                            </select>
                            
                            <select id="fee-filter">
                                <option value="">Any Fee</option>
                                <option value="0-100">$0 - $100</option>
                                <option value="100-200">$100 - $200</option>
                                <option value="200-300">$200 - $300</option>
                                <option value="300+">$300+</option>
                            </select>
                        </div>
                    </div>
                    
                    <div id="doctors-search-results" class="doctors-grid">
                        <!-- Search results will be displayed here -->
                    </div>
                </div>
            </div>

            <!-- Profile Section -->
            <div id="profile-section" class="section">
                <div class="profile-section">
                    <div class="profile-header">
                        <img id="profile-picture" src="https://images.pexels.com/photos/1130626/pexels-photo-1130626.jpeg?auto=compress&cs=tinysrgb&w=300" alt="Profile Picture" class="profile-picture">
                        <div class="profile-info">
                            <h2 id="profile-name">Loading...</h2>
                            <p id="profile-email">Loading...</p>
                            <button class="btn btn-secondary" onclick="openEditProfileModal()">Edit Profile</button>
                            <button class="btn btn-secondary" onclick="changeProfilePicture()">Change Picture</button>
                        </div>
                    </div>
                    
                    <div class="dashboard-grid">
                        <div class="dashboard-card">
                            <h3>Personal Information</h3>
                            <p><strong>Phone:</strong> <span id="profile-phone">-</span></p>
                            <p><strong>Date of Birth:</strong> <span id="profile-dob">-</span></p>
                            <p><strong>Gender:</strong> <span id="profile-gender">-</span></p>
                            <p><strong>Blood Group:</strong> <span id="profile-blood-group">-</span></p>
                        </div>
                        
                        <div class="dashboard-card">
                            <h3>Health Information</h3>
                            <p><strong>Weight:</strong> <span id="profile-weight">-</span> kg</p>
                            <p><strong>Height:</strong> <span id="profile-height">-</span> cm</p>
                            <p><strong>BMI:</strong> <span id="profile-bmi">-</span></p>
                        </div>
                        
                        <div class="dashboard-card">
                            <h3>Address</h3>
                            <p id="profile-address">-</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Appointment Booking Modal -->
    <div id="booking-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeBookingModal()">&times;</span>
            <h2>Book Appointment</h2>
            
            <form id="booking-form">
                <div class="form-group">
                    <label for="doctor-select">Select Doctor:</label>
                    <select id="doctor-select" required>
                        <option value="">Choose a doctor</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="appointment-date">Appointment Date:</label>
                    <input type="date" id="appointment-date" required>
                </div>
                
                <div class="form-group">
                    <label for="appointment-time">Preferred Time:</label>
                    <select id="appointment-time" required>
                        <option value="">Select time</option>
                        <option value="09:00">9:00 AM</option>
                        <option value="10:00">10:00 AM</option>
                        <option value="11:00">11:00 AM</option>
                        <option value="14:00">2:00 PM</option>
                        <option value="15:00">3:00 PM</option>
                        <option value="16:00">4:00 PM</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="appointment-reason">Reason for Visit:</label>
                    <textarea id="appointment-reason" rows="3" placeholder="Briefly describe your health concern..."></textarea>
                </div>
                
                <div class="form-group">
                    <button type="submit" class="btn btn-primary" style="width: 100%;">Book Appointment</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Add Report Modal -->
    <div id="add-report-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeAddReportModal()">&times;</span>
            <h2>Add Medical Report</h2>
            
            <form id="add-report-form">
                <div class="form-group">
                    <label for="report-type">Report Type:</label>
                    <select id="report-type" required>
                        <option value="">Select type</option>
                        <option value="blood-test">Blood Test</option>
                        <option value="x-ray">X-Ray</option>
                        <option value="mri">MRI</option>
                        <option value="ct-scan">CT Scan</option>
                        <option value="ultrasound">Ultrasound</option>
                        <option value="prescription">Prescription</option>
                        <option value="other">Other</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="report-doctor">Doctor:</label>
                    <input type="text" id="report-doctor" placeholder="Doctor's name" required>
                </div>
                
                <div class="form-group">
                    <label for="report-date">Report Date:</label>
                    <input type="date" id="report-date" required>
                </div>
                
                <div class="form-group">
                    <label for="report-notes">Notes:</label>
                    <textarea id="report-notes" rows="3" placeholder="Additional notes about the report..."></textarea>
                </div>
                
                <div class="form-group">
                    <label for="report-file">Upload Report (optional):</label>
                    <input type="file" id="report-file" accept="image/*,.pdf">
                    <small style="color: #666;">Supported formats: Images (JPG, PNG) or PDF</small>
                </div>
                
                <div class="form-group">
                    <button type="submit" class="btn btn-primary" style="width: 100%;">Add Report</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Edit Profile Modal -->
    <div id="edit-profile-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeEditProfileModal()">&times;</span>
            <h2>Edit Profile</h2>
            
            <form id="edit-profile-form">
                <div class="form-row">
                    <div class="form-group">
                        <label for="edit-first-name">First Name:</label>
                        <input type="text" id="edit-first-name" required>
                    </div>
                    <div class="form-group">
                        <label for="edit-last-name">Last Name:</label>
                        <input type="text" id="edit-last-name" required>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="edit-phone">Phone:</label>
                    <input type="tel" id="edit-phone" required>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="edit-weight">Weight (kg):</label>
                        <input type="number" id="edit-weight" step="0.1">
                    </div>
                    <div class="form-group">
                        <label for="edit-height">Height (cm):</label>
                        <input type="number" id="edit-height">
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="edit-address">Address:</label>
                    <textarea id="edit-address" rows="3"></textarea>
                </div>
                
                <div class="form-group">
                    <button type="submit" class="btn btn-primary" style="width: 100%;">Save Changes</button>
                </div>
            </form>
        </div>
    </div>

    <script src="patient-dashboard.js"></script>
</body>
</html>